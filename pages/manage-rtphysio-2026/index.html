<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Right Track</title>
    <link rel="stylesheet" href="../../assets/css/admin.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-screen">
        <div class="login-card">
            <div class="login-header">
                <h1>Right Track</h1>
                <p>Admin Panel</p>
            </div>
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input
                        type="email"
                        id="login-email"
                        name="email"
                        required
                        autocomplete="email"
                        placeholder="admin@righttrack.com"
                    >
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input
                        type="password"
                        id="login-password"
                        name="password"
                        required
                        autocomplete="current-password"
                        placeholder="Enter your password"
                    >
                </div>
                <div id="login-error" class="login-error" style="display: none;"></div>
                <button type="submit" class="btn-login" id="login-btn">
                    <span class="btn-text">Sign In</span>
                    <span class="btn-spinner" style="display: none;">
                        <svg class="spinner" viewBox="0 0 50 50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke="currentColor" stroke-width="5"></circle>
                        </svg>
                    </span>
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="admin-dashboard" class="admin-dashboard" style="display: none;">
        <!-- Mobile Header -->
        <header class="mobile-header">
            <button id="mobile-menu-btn" class="hamburger-btn" aria-label="Open menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1>Right Track</h1>
            <div class="mobile-header-spacer"></div>
        </header>

        <!-- Sidebar Overlay -->
        <div id="sidebar-overlay" class="sidebar-overlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Right Track</h2>
                <span class="badge">Admin</span>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="bookings">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    Bookings
                </a>
                <a href="#" class="nav-item" data-section="calendar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                        <line x1="9" y1="14" x2="9" y2="14"></line>
                        <line x1="15" y1="14" x2="15" y2="14"></line>
                        <line x1="9" y1="18" x2="9" y2="18"></line>
                        <line x1="15" y1="18" x2="15" y2="18"></line>
                    </svg>
                    Calendar
                </a>
                <a href="#" class="nav-item" data-section="clients">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Clients
                </a>
                <a href="#" class="nav-item" data-section="analytics">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10"></line>
                        <line x1="12" y1="20" x2="12" y2="4"></line>
                        <line x1="6" y1="20" x2="6" y2="14"></line>
                    </svg>
                    Analytics
                </a>
                <a href="#" class="nav-item" data-section="statistics">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    Statistics
                </a>
                <a href="#" class="nav-item" data-section="therapists">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    Therapists
                </a>
                <a href="#" class="nav-item" data-section="services">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                    </svg>
                    Services
                </a>
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn" class="btn-logout">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    Sign Out
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h1 id="section-title">Bookings</h1>
                <div class="header-actions">
                    <button id="sync-data-btn" class="btn-sync" title="Import initial data from code">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <polyline points="1 20 1 14 7 14"></polyline>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                        </svg>
                        Sync Initial Data
                    </button>
                    <!-- Notification Bell -->
                    <div class="notification-wrapper">
                        <button id="notification-btn" class="btn-notification" title="Notifications">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                            </svg>
                            <span id="notification-badge" class="notification-badge hidden">0</span>
                        </button>
                        <div id="notification-dropdown" class="notification-dropdown hidden">
                            <div class="notification-header">
                                <h4>New Bookings</h4>
                                <button id="mark-all-read" class="btn-text">Mark all read</button>
                            </div>
                            <div id="notification-list" class="notification-list">
                                <p class="notification-empty">No new notifications</p>
                            </div>
                        </div>
                    </div>
                    <span id="user-email" class="user-email"></span>
                </div>
            </header>

            <!-- Bookings Section -->
            <section id="section-bookings" class="content-section active">
                <!-- Header with Add Button -->
                <div class="section-header-bar section-header-with-btn">
                    <p class="section-description">Manage all bookings from website and manual entries.</p>
                    <button id="add-booking-btn" class="btn-add">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Booking
                    </button>
                </div>

                <!-- Filters -->
                <div class="filters-bar">
                    <div class="filter-group">
                        <label>Status</label>
                        <select id="filter-status">
                            <option value="all">All Statuses</option>
                            <option value="pending" selected>Pending</option>
                            <option value="confirmed">Confirmed</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Therapist</label>
                        <select id="filter-therapist">
                            <option value="all">All Therapists</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Source</label>
                        <select id="filter-source">
                            <option value="all">All Sources</option>
                            <option value="website">Website</option>
                            <option value="phone">Phone Call</option>
                            <option value="walkin">Walk-in</option>
                            <option value="referral">Referral</option>
                            <option value="social">Social Media</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Date Range</label>
                        <select id="filter-date">
                            <option value="all">All Time</option>
                            <option value="today">Today</option>
                            <option value="week" selected>This Week</option>
                            <option value="month">This Month</option>
                        </select>
                    </div>
                    <div class="filter-group search-group">
                        <label>Search</label>
                        <input type="text" id="filter-search" placeholder="Name or phone...">
                    </div>
                    <button id="refresh-btn" class="btn-icon" title="Refresh">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                        </svg>
                    </button>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon pending">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-pending">0</span>
                            <span class="stat-label">Pending</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon confirmed">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-confirmed">0</span>
                            <span class="stat-label">Confirmed</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon today">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-today">0</span>
                            <span class="stat-label">Today</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon callbacks">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-callbacks">0</span>
                            <span class="stat-label">Callbacks</span>
                        </div>
                    </div>
                </div>

                <!-- Bookings Table -->
                <div class="table-container">
                    <table class="data-table" id="bookings-table">
                        <thead>
                            <tr>
                                <th>Client</th>
                                <th>Service</th>
                                <th>Therapist</th>
                                <th>Date/Time</th>
                                <th>Source</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="bookings-tbody">
                            <tr class="loading-row">
                                <td colspan="7">
                                    <div class="loading-spinner"></div>
                                    Loading bookings...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Therapists Section -->
            <section id="section-therapists" class="content-section">
                <div class="section-header-bar section-header-with-btn">
                    <p class="section-description">Team members who provide services.</p>
                    <button id="add-therapist-btn" class="btn-add">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Therapist
                    </button>
                </div>
                <div class="cards-grid" id="therapists-grid">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Services Section -->
            <section id="section-services" class="content-section">
                <div class="section-header-bar section-header-with-btn">
                    <p class="section-description">Available services with pricing.</p>
                    <div style="display: flex; gap: 10px;">
                        <button id="sync-services-btn" class="btn-add" style="background: #10b981;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                            </svg>
                            Sync from Code
                        </button>
                        <button id="add-service-btn" class="btn-add">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Service
                        </button>
                    </div>
                </div>
                <div class="cards-grid services-grid-admin" id="services-grid">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Calendar Section -->
            <section id="section-calendar" class="content-section">
                <div class="section-header-bar">
                    <p class="section-description">Visual schedule view of all bookings.</p>
                </div>

                <!-- Calendar Controls -->
                <div class="calendar-controls">
                    <div class="calendar-nav">
                        <button id="cal-prev-month" class="btn-icon" title="Previous month">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <h3 id="cal-month-title">February 2026</h3>
                        <button id="cal-next-month" class="btn-icon" title="Next month">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                        <button id="cal-today-btn" class="btn-secondary-sm">Today</button>
                    </div>
                    <div class="calendar-filter">
                        <label>Therapist</label>
                        <select id="cal-filter-therapist">
                            <option value="all">All Therapists</option>
                        </select>
                    </div>
                </div>

                <!-- Calendar Grid -->
                <div class="calendar-container">
                    <div class="calendar-header">
                        <div class="calendar-day-name">Mon</div>
                        <div class="calendar-day-name">Tue</div>
                        <div class="calendar-day-name">Wed</div>
                        <div class="calendar-day-name">Thu</div>
                        <div class="calendar-day-name">Fri</div>
                        <div class="calendar-day-name weekend">Sat</div>
                        <div class="calendar-day-name weekend">Sun</div>
                    </div>
                    <div class="calendar-grid" id="calendar-grid">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Calendar Legend -->
                <div class="calendar-legend">
                    <div class="legend-item">
                        <span class="legend-dot confirmed"></span> Confirmed
                    </div>
                    <div class="legend-item">
                        <span class="legend-dot pending"></span> Pending
                    </div>
                    <div class="legend-item">
                        <span class="legend-dot cancelled"></span> Cancelled
                    </div>
                </div>
            </section>

            <!-- Clients Section -->
            <section id="section-clients" class="content-section">
                <div class="section-header-bar">
                    <p class="section-description">Manage your client database and view detailed profiles.</p>
                </div>

                <!-- Filters Bar -->
                <div class="filters-bar">
                    <div class="filter-group">
                        <input type="text" id="client-search" class="form-input" placeholder="Search by name, phone...">
                    </div>
                    <div class="filter-group">
                        <label>Status</label>
                        <select id="client-filter-status">
                            <option value="all">All Clients</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Sort By</label>
                        <select id="client-sort">
                            <option value="recent">Recent Visit</option>
                            <option value="name">Name</option>
                            <option value="visits">Most Visits</option>
                            <option value="revenue">Revenue</option>
                        </select>
                    </div>
                </div>

                <!-- Clients Table -->
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Client Name</th>
                                <th>Phone</th>
                                <th>Email</th>
                                <th>Birthday</th>
                                <th>Total Visits</th>
                                <th>Last Visit</th>
                                <th>Total Spent</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="clients-tbody">
                            <tr class="loading-row">
                                <td colspan="8">
                                    <div class="loading-spinner">Loading clients...</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="section-analytics" class="content-section">
                <div class="section-header-bar">
                    <p class="section-description">Business insights and performance metrics.</p>
                </div>

                <!-- Analytics Period Filter -->
                <div class="analytics-controls">
                    <div class="period-tabs">
                        <button class="period-tab active" data-period="7">7 Days</button>
                        <button class="period-tab" data-period="30">30 Days</button>
                        <button class="period-tab" data-period="90">90 Days</button>
                        <button class="period-tab" data-period="all">All Time</button>
                    </div>
                </div>

                <!-- Analytics KPI Cards -->
                <div class="analytics-kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-value" id="kpi-total">0</div>
                        <div class="kpi-label">Total Bookings</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="kpi-conversion">0%</div>
                        <div class="kpi-label">Conversion Rate</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="kpi-period">0</div>
                        <div class="kpi-label">In Period</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="kpi-cancelled">0%</div>
                        <div class="kpi-label">Cancellation Rate</div>
                    </div>
                </div>

                <!-- Analytics Charts Grid -->
                <div class="analytics-charts-grid">
                    <div class="chart-card">
                        <h4>Booking Sources</h4>
                        <canvas id="chart-sources"></canvas>
                    </div>
                    <div class="chart-card">
                        <h4>Payment Types</h4>
                        <canvas id="chart-payment"></canvas>
                    </div>
                    <div class="chart-card">
                        <h4>Popular Services</h4>
                        <canvas id="chart-services"></canvas>
                    </div>
                    <div class="chart-card">
                        <h4>Therapist Workload</h4>
                        <canvas id="chart-therapists"></canvas>
                    </div>
                    <div class="chart-card chart-wide">
                        <h4>Bookings Over Time</h4>
                        <canvas id="chart-trend"></canvas>
                    </div>
                </div>
            </section>

            <!-- Statistics Section -->
            <section id="section-statistics" class="content-section">
                <div class="section-header-bar">
                    <p class="section-description">Detailed monthly and weekly reports by therapist.</p>
                </div>

                <!-- Period Selector -->
                <div class="filters-bar">
                    <div class="filter-group">
                        <label>Period</label>
                        <select id="stats-period">
                            <option value="2026-01">January 2026</option>
                            <option value="2025-12">December 2025</option>
                            <option value="2025-11">November 2025</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>View Type</label>
                        <select id="stats-view-type">
                            <option value="monthly">Monthly Summary</option>
                            <option value="weekly">Weekly Breakdown</option>
                            <option value="daily">Daily Details</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Therapist</label>
                        <select id="stats-therapist">
                            <option value="all">All Therapists</option>
                        </select>
                    </div>
                    <button id="import-historical-btn" class="btn-primary" style="padding: 8px 16px; font-size: 14px;">
                        Import January Data
                    </button>
                    <button id="stats-refresh-btn" class="btn-icon" title="Refresh">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                        </svg>
                    </button>
                </div>

                <!-- Statistics Container -->
                <div id="statistics-container">
                    <!-- Will be populated by JS -->
                </div>
            </section>
        </main>
    </div>

    <!-- Booking Detail Modal -->
    <div id="booking-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Booking Details</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="booking-modal-body">
                <!-- Content populated by JS -->
            </div>
            <div class="modal-footer" id="booking-modal-footer">
                <!-- Actions populated by JS -->
            </div>
        </div>
    </div>

    <!-- Therapist Edit Modal -->
    <div id="therapist-modal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2 id="therapist-modal-title">Add Therapist</h2>
                <button class="modal-close" data-modal="therapist-modal">&times;</button>
            </div>
            <form id="therapist-form">
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="therapist-name">Name (English) *</label>
                            <input type="text" id="therapist-name" required placeholder="e.g., Antonis Petri">
                        </div>
                        <div class="form-group">
                            <label for="therapist-name-el">Name (Greek)</label>
                            <input type="text" id="therapist-name-el" placeholder="e.g., Aντώνης Πέτρη">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="therapist-title">Title (English) *</label>
                            <input type="text" id="therapist-title" required placeholder="e.g., Lead Clinician">
                        </div>
                        <div class="form-group">
                            <label for="therapist-title-el">Title (Greek)</label>
                            <input type="text" id="therapist-title-el" placeholder="e.g., Επικεφαλής Κλινικός">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="therapist-email">Email *</label>
                            <input type="email" id="therapist-email" required placeholder="email@example.com">
                        </div>
                        <div class="form-group">
                            <label for="therapist-gesy">GESY Code</label>
                            <input type="text" id="therapist-gesy" placeholder="e.g., A2825">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="therapist-photo">Photo URL</label>
                        <input type="text" id="therapist-photo" placeholder="/assets/images/team/name-photo.jpg">
                    </div>
                    <div class="form-group">
                        <label>Services Provided *</label>
                        <div class="checkbox-grid" id="therapist-services-checkboxes">
                            <!-- Populated by JS -->
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="toggle-label">
                            <input type="checkbox" id="therapist-active" checked>
                            <span class="toggle-text">Active (visible to clients)</span>
                        </label>
                    </div>
                    <input type="hidden" id="therapist-id">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" data-modal="therapist-modal">Cancel</button>
                    <button type="submit" class="btn-primary-sm" id="save-therapist-btn">
                        <span>Save Therapist</span>
                        <div class="spinner"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Service Edit Modal -->
    <div id="service-modal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2 id="service-modal-title">Add Service</h2>
                <button class="modal-close" data-modal="service-modal">&times;</button>
            </div>
            <form id="service-form">
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="service-name">Name (English) *</label>
                            <input type="text" id="service-name" required placeholder="e.g., Athlete Rehabilitation">
                        </div>
                        <div class="form-group">
                            <label for="service-name-el">Name (Greek)</label>
                            <input type="text" id="service-name-el" placeholder="e.g., Αποκατάσταση Αθλητών">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="service-description">Description (English)</label>
                            <input type="text" id="service-description" placeholder="Brief description of the service">
                        </div>
                        <div class="form-group">
                            <label for="service-description-el">Description (Greek)</label>
                            <input type="text" id="service-description-el" placeholder="Σύντομη περιγραφή της υπηρεσίας">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="service-pricing-type">Pricing Type *</label>
                            <select id="service-pricing-type" required>
                                <option value="fixed">Fixed Price</option>
                                <option value="from">Starting From</option>
                                <option value="custom">Custom Text</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="service-order">Display Order</label>
                            <input type="number" id="service-order" placeholder="1, 2, 3..." min="1" step="1" value="99">
                            <small style="color: var(--text-gray); font-size: 0.85rem;">Lower numbers appear first</small>
                        </div>
                    </div>
                    <div class="form-row" id="price-fields">
                        <div class="form-group">
                            <label for="service-gesy-price">GESY Price (EUR)</label>
                            <input type="number" id="service-gesy-price" placeholder="e.g., 29" min="0" step="1">
                        </div>
                        <div class="form-group">
                            <label for="service-private-price">Private Price (EUR)</label>
                            <input type="number" id="service-private-price" placeholder="e.g., 45" min="0" step="1">
                        </div>
                    </div>
                    <div class="form-row hidden" id="custom-price-fields">
                        <div class="form-group">
                            <label for="service-custom-text">Custom Text (English)</label>
                            <input type="text" id="service-custom-text" placeholder="e.g., Customized Packages">
                        </div>
                        <div class="form-group">
                            <label for="service-custom-text-el">Custom Text (Greek)</label>
                            <input type="text" id="service-custom-text-el" placeholder="e.g., Εξατομικευμένα Πακέτα">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Provided by</label>
                        <div id="service-therapists" class="checkbox-group">
                            <!-- Therapist checkboxes will be populated dynamically -->
                        </div>
                    </div>
                    <input type="hidden" id="service-id">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" data-modal="service-modal">Cancel</button>
                    <button type="submit" class="btn-primary-sm" id="save-service-btn">
                        <span>Save Service</span>
                        <div class="spinner"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Booking Modal -->
    <div id="add-booking-modal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2>Add New Booking</h2>
                <button class="modal-close" data-modal="add-booking-modal">&times;</button>
            </div>
            <form id="add-booking-form">
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="booking-client-name">Client Name *</label>
                            <input type="text" id="booking-client-name" required placeholder="Full name">
                        </div>
                        <div class="form-group">
                            <label for="booking-phone">Phone *</label>
                            <input type="tel" id="booking-phone" required placeholder="+357 99 XXX XXX">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="booking-email">Email</label>
                        <input type="email" id="booking-email" placeholder="client@email.com">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="booking-service">Service *</label>
                            <select id="booking-service" required>
                                <option value="">Select service...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="booking-therapist">Therapist *</label>
                            <select id="booking-therapist" required>
                                <option value="">Select therapist...</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="booking-date">Date *</label>
                            <input type="date" id="booking-date" required>
                        </div>
                        <div class="form-group">
                            <label for="booking-time">Time *</label>
                            <select id="booking-time" required>
                                <option value="">Select time...</option>
                                <option value="08:00">08:00</option>
                                <option value="09:00">09:00</option>
                                <option value="10:00">10:00</option>
                                <option value="11:00">11:00</option>
                                <option value="12:00">12:00</option>
                                <option value="13:00">13:00</option>
                                <option value="14:00">14:00</option>
                                <option value="15:00">15:00</option>
                                <option value="16:00">16:00</option>
                                <option value="17:00">17:00</option>
                                <option value="18:00">18:00</option>
                                <option value="19:00">19:00</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="booking-source">Source *</label>
                            <select id="booking-source" required>
                                <option value="phone">Phone Call</option>
                                <option value="walkin">Walk-in</option>
                                <option value="referral">Referral</option>
                                <option value="social">Social Media</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="booking-payment">Payment Type</label>
                            <select id="booking-payment">
                                <option value="">Not specified</option>
                                <option value="gesy-new">GESY New Patient</option>
                                <option value="gesy-old">GESY Returning</option>
                                <option value="private">Private</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="booking-location">Location *</label>
                            <select id="booking-location" required>
                                <option value="gym">Gym Sector</option>
                                <option value="physio">Physio Room</option>
                                <option value="home">Home-care</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="booking-price">Price (EUR)</label>
                            <input type="number" id="booking-price" placeholder="Auto-calculated" min="0" step="1">
                            <small style="color: #666; font-size: 12px;">Leave empty for auto-calculation</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="booking-notes">Notes</label>
                        <textarea id="booking-notes" rows="2" placeholder="Any additional notes..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" data-modal="add-booking-modal">Cancel</button>
                    <button type="submit" class="btn-primary-sm" id="save-booking-btn">
                        <span>Create Booking</span>
                        <div class="spinner"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Day Detail Modal -->
    <div id="day-modal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2 id="day-modal-title">Bookings for February 15, 2026</h2>
                <button class="modal-close" data-modal="day-modal">&times;</button>
            </div>
            <div class="modal-body" id="day-modal-body">
                <!-- Populated by JS -->
            </div>
        </div>
    </div>

    <!-- Client Profile Modal -->
    <div id="client-modal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2 id="client-modal-title">Client Profile</h2>
                <button class="modal-close" data-modal="client-modal">&times;</button>
            </div>
            <div class="modal-body" id="client-modal-body">
                <!-- Populated by JS -->
            </div>
            <div class="modal-footer" id="client-modal-footer">
                <button class="btn-action view" onclick="adminApp.saveClientNotes()">Save Notes</button>
                <button class="btn-action" onclick="adminApp.editClientInfo()">Edit Info</button>
            </div>
        </div>
    </div>

    <script type="module" src="../../assets/js/admin/admin-app.js"></script>
</body>
</html>
